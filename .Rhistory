# C:\JVA\GLFC\People\Kaye\Stonecats\Gaming v2.r
wb <- loadWorkbook("C:/JVA/GLFC/People/Kaye/Stonecats/Stonecat Length and Weight.xlsx")
dat <- readWorksheet(wb, sheet=getSheets(wb)[1], startRow=6)
info <- data.frame(
visit = c(1, 2, 3, 4, 5),
month = c(5, 5, 5, 8, 7),
day = c(2, 14, 26, 14, 13),
year = 2012 + c(0, 0, 0, 0, 1),
minutes = c(555, 0, 530, 390, 360)
)
info$date <- with(info, as.Date(paste(year, month, day, sep="-")))
length <- with(dat, c(Length, Length.1, Length.3, Length.4))
weight <- with(dat, c(Weight, Weight.1, Weight.3, Weight.4))
visit <- rep(info$visit[-3], rep(dim(dat)[1], length(info$visit[-3])))
cats <- data.frame(length, weight, visit)
cats <- cats[!is.na(cats$length), ]
rm(length, weight, visit)
catch <- table(cats$visit)
catch <- c(catch[1:2], 0, catch[3:4]) 
info$nperhr <- 60*catch/info$minutes
# mark recapture estimates for visit 1 and visit 4 (based on recaps during visit 2 and visit 5)
adjPetersen <- function(M, C, R) {
# Adjusted Petersen estimate for single mark-recapture, Chapman (1951)
N <- (M+1)*(C+1) / (R+1)
# CI for R
RCI <- binomCI(R, C-R, prob=FALSE)
NCI <- as.vector((M+1)*(C+1) / (RCI[c("U", "L")]+1))
c(N=N, L=NCI[1], U=NCI[2])
}
mr1 <- adjPetersen(M=39, C=348, R=0)
mr4 <- adjPetersen(M=42, C=30, R=1)
attach(info)
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(1, at=as.Date(c(paste(2012, 1:12, 1, sep="-"), paste(2013, 1:12, 1, sep="-")))-0.5, labels=F)
axis(1, at=as.Date(c(paste(2012, c(5, 8), 15, sep="-"), paste(2013, 7, 15, sep="-")))-0.5, labels=c(month.abb[c(5, 8)], month.abb[7]), tick=F, las=3)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
info
date[-2]
class(date[-2])
?Date
format(date[-2], "%d%b%Y")
format(date[-2], "%d%b%y")
format(date[-2], "%d%b '%y")
format(date[-2], "%d%b\n%y")
format(date[-2], "%d%b\n%Y")
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(1, at=date[-2], labels=format(date[-2], "%d%b\n%Y")
# axis(1, at=as.Date(c(paste(2012, 1:12, 1, sep="-"), paste(2013, 1:12, 1, sep="-")))-0.5, labels=F)
# axis(1, at=as.Date(c(paste(2012, c(5, 8), 15, sep="-"), paste(2013, 7, 15, sep="-")))-0.5, labels=c(month.abb[c(5, 8)], month.abb[7]), tick=F, las=3)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(1, at=date[-2], labels=format(date[-2], "%d%b\n%Y"))
# axis(1, at=as.Date(c(paste(2012, 1:12, 1, sep="-"), paste(2013, 1:12, 1, sep="-")))-0.5, labels=F)
# axis(1, at=as.Date(c(paste(2012, c(5, 8), 15, sep="-"), paste(2013, 7, 15, sep="-")))-0.5, labels=c(month.abb[c(5, 8)], month.abb[7]), tick=F, las=3)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
?par
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(4, 1, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d%b\n%Y"))
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(3, 2, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d%b\n%Y"))
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(3, 1.5, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d%b\n%Y"), cex=0.9)
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="Survey date  (2012-2013)", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(3, 2, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.8)
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.8)
tltle(ylab="Survey date")
windows()
par(mar=c(4, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.8)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.6)
title(ylab="Survey date")
date
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
axis(1, at=date[3], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.6, col="gray")
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.6)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col="gray")
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.6)
title(ylab="Survey date")
?axis
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=format(date[-2], "%d\n%b\n%Y"), cex=0.6)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0))
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=format(date[-2], "%d %b %Y"), cex=0.6, srt=45)
title(ylab="Survey date")
?axis
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
#axis(1, at=date[-2], labels=format(date[-2], "%d %b %Y"), cex=0.6, crt=45)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
#axis(1, at=date[-2], labels=format(date[-2], "%d %b %Y"), cex=0.6, crt=45)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=FALSE)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1, cex=0.7)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=FALSE)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1, cex=0.9)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=FALSE)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1, cex=0.8)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
abline(v=date[2], lty=2)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=FALSE)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1, cex=0.8)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 2, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
abline(v=date[2], lty=2)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=FALSE)
axis(3, at=date[2], labels="Treatment")
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1, cex=0.8)
title(ylab="Survey date")
windows()
par(mar=c(6, 3.5, 3, 1), cex=1.5, yaxs="i")
plot(date[-2], nperhr[-2], type="n", ylim=1.05*c(0, max(nperhr[-2])), axes=FALSE,
xlab="", ylab="", main="Stonecats", las=1)
abline(v=date[2], lty=2)
points(date[-2], nperhr[-2], type="o", lwd=2)
axis(2, las=1)
axis(3, at=date[2], labels="Treatment")
box()
mtext("CPUE  (#/hr of electrofishing)", side=2, line=2, cex=1.5)
par(mgp=c(5, 3, 0), xpd=NA)
#axis(1, at=date[3], labels=format(date[3], "%d\n%b\n%Y"), cex=0.6, col.axis="gray")
axis(1, at=date[-2], labels=FALSE)
text(date[-2], -0.5, format(date[-2], "%d %b %Y"), srt=45, adj=1, cex=0.8)
title(ylab="Survey date")
plotno
search()
ls(4)
?cheat
library(devtools)
setwd("C:/JVA/GitHub/jvamisc")
document()
q()
