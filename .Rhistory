a
a <- barplot(table(group), las=1, xlab="Group", ylab="Frequency")
mtext(c("N (N)", "N (H)", "H (N)", "H (H)"), at=a, side=3)
a <- barplot(table(group), las=1, xlab="Group", ylab="Frequency")
mtext(c("N (N)", "N (H)", "H (N)", "H (H)"), at=a, side=3, line=1)
a <- barplot(table(group), las=1, xlab="Group", ylab="Frequency")
mtext(c("N (N)", "N (H)", "H (N)", "H (H)"), at=a, side=3, line=1.5)
table(group)
g <- table(group)
windows()
b <- barplot(g, las=1, xlab="Group", ylab="Frequency")
mtext(c("N (N)", "N (H)", "H (N)", "H (H)"), at=b, side=3, line=1.5)
text(b, g, g)
b <- barplot(g, las=1, xlab="Group", ylab="Frequency")
mtext(c("N (N)", "N (H)", "H (N)", "H (H)"), at=b, side=3, line=1.5)
text(b, g, g, pos=1)
table(year, group)
plot(logcpe)
10^logcpe)
10^logcpe
10^logcpe - 1
exp(logcpe) - 1
plot(10^logcpe - 1, exp(logcpe) - 1)
tapply(logcpe, list(year, group), median)
aggregate(logcpe, list(year, group), median)
aggregate(logcpe, list(year=year, group=group), median)
circles
# median logcpe for each group and year
med <- aggregate(logcpe, list(year=year, group=group), median)
detach(dat)
attach(med)
windows()
circles(year, group, sqrt(x), data.range=sqrt(c(0, max(x))), circle.size.range=c(0, 0.3), xlab="Year", ylab="Group", main="CPE") 
circles(year, group, sqrt(x), data.range=sqrt(c(0, max(x))), circle.size.range=c(0, 0.3), xlab="Year", ylab="Group", main="CPE", las=1) 
med
range(x)
range(dat$logcpe)
circles(year, group, sqrt(x), circle.size.range=c(0.1, 0.3), xlab="Year", ylab="Group", main="CPE", las=1) 
par(mar=c(4, 4, 2, 1))
circles(year, group, sqrt(x), circle.size.range=c(0.1, 0.3), xlab="Year", ylab="Group", main="CPE", las=1, axes=FALSE) 
axis(1)
axis(2, at=1:4)
box()
windows(w=9, h=6.5)
par(mar=c(4, 4, 2, 1))
circles(year, group, sqrt(x), circle.size.range=c(0.1, 0.3), xlab="Year", ylab="Group", main="CPE", las=1, axes=FALSE) 
axis(1)
axis(2, at=1:4)
box()
windows(w=9, h=4)
par(mar=c(4, 4, 2, 1))
circles(year, group, sqrt(x), circle.size.range=c(0.1, 0.3), xlab="Year", ylab="Group", main="CPE", las=1, axes=FALSE) 
axis(1)
axis(2, at=1:4)
box()
par(mar=c(4, 4, 2, 1))
circles(year, group, sqrt(x), circle.size.range=c(0.01, 0.2), xlab="Year", ylab="Group", main="CPE", axes=FALSE) 
axis(1)
axis(2, at=1:4, las=1)
box()
par(mar=c(4, 4, 2, 1))
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), xlab="Year", ylab="Group", main="CPE", axes=FALSE) 
axis(1)
axis(2, at=1:4, las=1)
box()
dim(med)
dim(dat)
unique(year)
length(unique(year))
detach(med)
fit1 <- aov(logcpe ~ as.factor(year) + as.factor(group), data=dat)
fit2 <- aov(logcpe ~ as.factor(year), data=dat)
fit3 <- aov(logcpe ~ as.factor(group), data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(fit1, fit2, fit3, fit4)
AICc
fit1 <- aov(logcpe ~ as.factor(year) + as.factor(group), data=dat)
fit2 <- aov(logcpe ~ as.factor(year), data=dat)
fit3 <- aov(logcpe ~ as.factor(group), data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(list(fit1, fit2, fit3, fit4))
Tukey.HSD(fit3)
TukeyHSD(fit3)
TukeyHSD(fit3)
groupnames <- c("N (N)", "N (H)", "H (N)", "H (H)")
attach(med)
windows(w=9, h=4)
par(mar=c(4, 4, 2, 3))
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames)
box()
detach(med)
attach(med)
windows(w=9, h=4)
par(mar=c(4, 4, 2, 3))
plot(year, group, xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames)
box()
symbols
windows(w=9, h=4)
par(mar=c(4, 4, 2, 3))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames)
box()
par(mar=c(4, 4, 2, 3))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
detach(med)
fit1 <- aov(logcpe ~ as.factor(year) + as.factor(group), data=dat)
fit2 <- aov(logcpe ~ as.factor(year), data=dat)
fit3 <- aov(logcpe ~ as.factor(group), data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(list(fit1, fit2, fit3, fit4))
TukeyHSD(fit3)
windows()
plot(fit3)
search()
attach(dat)
plot(as.factor(group), logcpe)
windows()
par(mar=c(4, 4, 3, 1))
plot(as.factor(group), logcpe)
windows()
par(mar=c(4, 4, 3, 1))
plot(as.factor(group), logcpe, xlab="Group", ylab="Log(CPE)")
mtext(groupnames, at=b, side=3, line=1.5)
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 3, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency")
mtext(groupnames, at=b, side=3, line=1.5)
text(b, g, g, pos=1)
windows()
par(mar=c(4, 4, 3, 1))
plot(as.factor(group), logcpe, xlab="Group", ylab="Log(CPE)")
mtext(groupnames, at=b, side=3, line=1)
TukeyHSD(fit3)
plot(fit3)
windows()
plot(as.factor(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
windows()
plot(as.factor(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
fit3$fitted
table(fit3$fitted)
windows()
plot(as.factor(round(fitted(fit3), 4)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
windows()
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
tapply(fitted(fit3), group, mean)
gf <- tapply(fitted(fit3), group, mean)
windows()
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
groupnames <- c("1:N(N)", "2:N(H)", "3:H(N)", "4:H(H)")
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", axes=FALSE)
text(b, g, g, pos=1)
axis(1, at=b, labels=groupnames)
axis(2)
box()
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", axes=FALSE)
text(b, g, g, pos=1)
?barplot
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", names.arg=groupnames)
?plot.factor
dat <- data.frame(matrix(a, ncol=3, byrow=TRUE, dimnames=list(NULL, c("year", "group", "logcpe"))))
groupnames <- c("1:N(N)", "2:N(H)", "3:H(N)", "4:H(H)")
dat$groupf <- as.factor(group, levels=groupnames)
# C:\JVA\Consult\Kraus\Hypoxia\benthic.r
# bring in data
a <- scan()
dat <- data.frame(matrix(a, ncol=3, byrow=TRUE, dimnames=list(NULL, c("year", "group", "logcpe"))))
groupnames <- c("1:N(N)", "2:N(H)", "3:H(N)", "4:H(H)")
dat$groupf <- as.factor(group, levels=groupnames)
dat$groupf <- factor(group, levels=groupnames)
head(dat)
?factor
dat$groupf <- factor(group, labels=groupnames)
head(dat)
dat
detach(dat)
detach(dat)
attach(dat)
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", names.arg=groupnames)
text(b, g, g, pos=1)
windows()
par(mar=c(4, 4, 3, 1))
plot(group)f, logcpe, xlab="Group", ylab="Log(CPE)")
windows()
par(mar=c(4, 4, 3, 1))
plot(groupf, logcpe, xlab="Group", ylab="Log(CPE)")
dat$yearf <- factor(year)
detach(dat)
attach(dat)
# AIC of ANOVA models
fit1 <- aov(logcpe ~ yearf + groupf, data=dat)
fit2 <- aov(logcpe ~ yearf, data=dat)
fit3 <- aov(logcpe ~ groupf, data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(list(fit1, fit2, fit3, fit4))
summary(fit3)
TukeyHSD(fit3)
gf <- tapply(fitted(fit3), group, mean)
windows()
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
# median logcpe for each group and year
med <- aggregate(logcpe, list(year=year, group=group), median)
detach(dat)
attach(med)
windows(w=9, h=4)
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
detach(med)
cleanup()
search()
graphics.off()
# C:\JVA\Consult\Kraus\Hypoxia\benthic.r
# bring in data
a <- scan()
dat <- data.frame(matrix(a, ncol=3, byrow=TRUE, dimnames=list(NULL, c("year", "group", "logcpe"))))
groupnames <- c("1:N(N)", "2:N(H)", "3:H(N)", "4:H(H)")
dat$groupf <- factor(group, labels=groupnames)
dat$yearf <- factor(year)
rm(a)
head(dat)
attach(dat)
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", names.arg=groupnames)
text(b, g, g, pos=1)
rm(g)
windows()
par(mar=c(4, 4, 1, 1))
plot(groupf, logcpe, xlab="Group", ylab="Log(CPE)")
# AIC of ANOVA models
fit1 <- aov(logcpe ~ yearf + groupf, data=dat)
fit2 <- aov(logcpe ~ yearf, data=dat)
fit3 <- aov(logcpe ~ groupf, data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(list(fit1, fit2, fit3, fit4))
summary(fit3)
TukeyHSD(fit3)
rm(fit1, fit2, fit4)
gf <- tapply(fitted(fit3), group, mean)
windows()
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
# median logcpe for each group and year
med <- aggregate(logcpe, list(year=year, group=group), median)
detach(dat)
attach(med)
windows(w=9, h=4)
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
detach(med)
graphics.off()
# C:\JVA\Consult\Kraus\Hypoxia\benthic.r
# bring in data
a <- scan()
dat <- data.frame(matrix(a, ncol=3, byrow=TRUE, dimnames=list(NULL, c("year", "group", "logcpe"))))
groupnames <- c("1:N(N)", "2:N(H)", "3:H(N)", "4:H(H)")
dat$groupf <- factor(dat$group, labels=groupnames)
dat$yearf <- factor(dat$year)
rm(a)
head(dat)
attach(dat)
# distribution of groups
g <- table(group)
windows()
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", names.arg=groupnames)
text(b, g, g, pos=1)
rm(g)
windows()
par(mar=c(4, 4, 1, 1))
plot(groupf, logcpe, xlab="Group", ylab="Log(CPE)")
# AIC of ANOVA models
fit1 <- aov(logcpe ~ yearf + groupf, data=dat)
fit2 <- aov(logcpe ~ yearf, data=dat)
fit3 <- aov(logcpe ~ groupf, data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(list(fit1, fit2, fit3, fit4))
summary(fit3)
TukeyHSD(fit3)
rm(fit1, fit2, fit4)
gf <- tapply(fitted(fit3), group, mean)
windows()
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
# median logcpe for each group and year
med <- aggregate(logcpe, list(year=year, group=group), median)
detach(dat)
attach(med)
windows(w=9, h=4)
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
detach(med)
# C:\JVA\Consult\Kraus\Hypoxia\benthic.r
# bring in data
a <- scan()
dat <- data.frame(matrix(a, ncol=3, byrow=TRUE, dimnames=list(NULL, c("year", "group", "logcpe"))))
groupnames <- c("1:N(N)", "2:N(H)", "3:H(N)", "4:H(H)")
dat$groupf <- factor(dat$group, labels=groupnames)
dat$yearf <- factor(dat$year)
rm(a)
attach(dat)
# distribution of groups
g <- table(group)
windows(h=4, w=4)
par(mar=c(4, 4, 1, 1))
b <- barplot(g, las=1, xlab="Group", ylab="Frequency", names.arg=groupnames)
text(b, g, g, pos=1)
rm(g)
windows(h=4, w=4)
par(mar=c(4, 4, 1, 1))
plot(groupf, logcpe, xlab="Group", ylab="Log(CPE)")
# AIC of ANOVA models
fit1 <- aov(logcpe ~ yearf + groupf, data=dat)
fit2 <- aov(logcpe ~ yearf, data=dat)
fit3 <- aov(logcpe ~ groupf, data=dat)
fit4 <- aov(logcpe ~ 1, data=dat)
AICc(list(fit1, fit2, fit3, fit4))
summary(fit3)
TukeyHSD(fit3)
rm(fit1, fit2, fit4)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
# median logcpe for each group and year
med <- aggregate(logcpe, list(year=year, group=group), median)
detach(dat)
attach(med)
windows(w=4, h=2)
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
detach(med)
attach(med)
windows(w=6.5, h=3)
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, las=1)
axis(4, at=1:4, labels=groupnames, las=1)
box()
detach(med)
attach(med)
windows(w=6.5, h=3)
par(mar=c(4, 4, 2, 1))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1, at=1:4, labels=groupnames, las=1)
axis(2, at=1:4, las=1)
box()
detach(med)
attach(med)
windows(w=6.5, h=3)
par(mar=c(4, 4, 2, 4))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, labels=groupnames, las=1)
box()
detach(med)
attach(med)
windows(w=6.5, h=3)
par(mar=c(4, 5, 2, 1))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="Group", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, labels=groupnames, las=1)
box()
windows(w=6.5, h=3)
par(mar=c(4, 5, 2, 1))
plot(year, group, type="n", xlim=extendrange(year, f=0.1), ylim=extendrange(group, f=0.1), xlab="Year", ylab="", main="Median CPE", axes=FALSE) 
circles(year, group, sqrt(x), circle.size.range=c(0.05, 0.2), add=TRUE) 
axis(1)
axis(2, at=1:4, labels=groupnames, las=1)
box()
mtext("Group", side=2, line=4)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
abline(h=0, lty=2)
search()
detach(med)
attach(dat)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1, cex=0.8)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1, cex=0.6)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=1, las=2)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=0, las=2)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=0.1, las=2)
abline(h=0, lty=2)
gf <- tapply(fitted(fit3), group, mean)
windows(h=4, w=4)
par(mar=c(4, 4, 3, 1))
plot(jitter(fitted(fit3)), resid(fit3), xlab="Predicted values for each group", ylab="Residuals for each group")
mtext(groupnames, at=gf, side=3, line=0.2, las=2)
abline(h=0, lty=2)
cleanup()
q()
# After restarting R, attach/install packages
library(devtools)
library(roxygen2)
# install from local folder
setwd("C:/JVA/GitHub")
install("jvamisc")
setwd("C:/JVA/R/Working Directory")
library(jvamisc)
?heading
#########
# Make any changes you like
# update documentation, then quit and restart R
library(devtools)
setwd("C:/JVA/GitHub/jvamisc")
document()
q()
